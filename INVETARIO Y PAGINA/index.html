<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MamaYoli | Bisutería y Accesorios</title>
    <!-- Enlace a Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Enlace a Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Enlace a CSS Personalizado (Ruta corregida) -->
    <link rel="stylesheet" href="./ASSETS/CSS/estilos.css">
</head>
<body>

    <!-- BARRA DE NAVEGACIÓN -->
    <nav class="navbar navbar-expand-lg sticky-top shadow-sm" style="background-color: var(--white);">
        <div class="container-fluid container-xl">
            <!-- Logo y Nombre de la Marca MamaYoli -->
            <a class="navbar-brand d-flex align-items-center fw-bold" href="#">
                <i data-lucide="gem" class="me-2 text-pink" style="width: 28px; height: 28px;"></i>
                <span class="fs-4 text-pink">MamaYoli</span>
            </a>
            
            <div class="d-flex w-100 justify-content-end align-items-center">
                <!-- Formulario de Búsqueda -->
                <form class="d-flex navbar-search-form" role="search">
                    <input id="searchInput" class="form-control me-2 rounded-pill shadow-sm" type="search" placeholder="Buscar productos..." aria-label="Search">
                </form>
                
                <!-- Nuevo Botón de Carrito (Offcanvas) -->
                <button class="btn btn-outline-pink ms-2 rounded-circle p-2 position-relative" type="button" data-bs-toggle="offcanvas" data-bs-target="#cartOffcanvas" aria-controls="cartOffcanvas" title="Ver Carrito">
                    <i data-lucide="shopping-cart" class="text-pink" style="width: 20px; height: 20px;"></i>
                    <span id="cartCount" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-badge">
                        0
                        <span class="visually-hidden">Productos en el carrito</span>
                    </span>
                </button>
            </div>
            <!-- Nota: El botón de login discreto ha sido eliminado para el modo Catálogo, según solicitud. -->
        </div>
    </nav>

    <main class="container-fluid container-xl my-4">

        <!-- CARRUSEL DE BANNERS (Se oculta con la búsqueda, manejado en Logica.js) -->
        <section class="mb-5">
            <div id="productCarousel" class="carousel slide rounded-3 shadow-lg" data-bs-ride="carousel">
                <div class="carousel-indicators" id="carouselIndicators">
                    <!-- Indicadores generados por JS -->
                    <button type="button" data-bs-target="#productCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#productCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#productCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner rounded-3" id="carouselInner">
                    <!-- Contenido del carrusel generado por JS -->
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Anterior</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Siguiente</span>
                </button>
            </div>
        </section>

        <!-- SECCIÓN DE PRODUCTOS EN CUADRÍCULA -->
        <section>
            <h2 class="text-pink mb-4 text-center fw-light">Explora Nuestra Bisutería y Accesorios</h2>
            
            <!-- Mensaje de No Resultados -->
            <div id="noResults" class="alert alert-warning text-center d-none" role="alert">
                No encontramos productos que coincidan con tu búsqueda.
            </div>

            <!-- Cuadrícula de Productos -->
            <div id="productsGrid" class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4 g-4">
                <!-- Tarjetas de productos generadas por JS -->
            </div>
        </section>

    </main>

    <!-- MODAL DE DETALLE DE PRODUCTO (Reemplaza alert()) -->
    <div class="modal fade" id="detailsModal" tabindex="-1" aria-labelledby="detailsModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content rounded-4 shadow-lg">
                <div class="modal-header">
                    <h5 class="modal-title" id="detailsModalTitle">Detalle del Producto</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body" id="detailsModalBody">
                    <!-- Contenido del detalle (galería y texto) inyectado por JS -->
                </div>
                <div class="modal-footer">
                    <!-- Botón de Añadir al Carrito -->
                    <button id="addToCartModalBtn" type="button" class="btn btn-pink rounded-pill me-auto" data-product-id="">
                        <i data-lucide="plus" class="me-1" style="width: 18px;"></i>
                        Añadir al Carrito
                    </button>
                    <button type="button" class="btn btn-outline-secondary rounded-pill" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- OFFCANVAS CARRITO -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="cartOffcanvas" aria-labelledby="cartOffcanvasLabel">
        <div class="offcanvas-header border-bottom">
            <h5 class="offcanvas-title text-pink fw-bold" id="cartOffcanvasLabel">
                <i data-lucide="shopping-cart" class="me-2"></i> Tu Carrito MamaYoli
            </h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body d-flex flex-column">
            
            <div id="cartItemsList" class="flex-grow-1 overflow-auto mb-3">
                <!-- Ítems del carrito inyectados por JS -->
                <p id="emptyCartMessage" class="text-muted text-center mt-5">El carrito está vacío. ¡Añade algo de brillo!</p>
            </div>
            
            <div id="cartSummary" class="border-top pt-3 mt-auto">
                <div class="d-flex justify-content-between fw-bold fs-5 text-pink mb-3">
                    <span>Total:</span>
                    <span id="cartTotal">$0.00</span>
                </div>
                <!-- Nota: btn-primary se estilizará con el color de la marca en estilos.css -->
                <button class="btn btn-primary w-100 rounded-pill fs-5" id="checkoutBtn" disabled>
                    Finalizar Compra
                </button>
            </div>
        </div>
    </div>
    <!-- FIN OFFCANVAS CARRITO -->

    <!-- Enlace a Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Enlace a JS Personalizado (Ruta corregida) -->
    <script src="./ASSETS/JS/Logica.js"></script>

</body>
</html>
